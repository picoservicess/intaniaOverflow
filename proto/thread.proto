syntax = "proto3";

service ThreadService {
    rpc getAllThreads (Empty) returns (ThreadList) {}
    rpc getThreadById (ThreadId) returns (Thread) {}
    rpc createThread (Thread) returns (Thread) {}
    rpc updateThread (Thread) returns (Thread) {}
    rpc deleteThread (ThreadId) returns (Empty) {}
    rpc searchThreads (SearchQuery) returns (ThreadList) {}
    rpc healthCheck (Empty) returns (Empty) {}
}

message Empty{}

message SearchQuery {
    string query = 1;
}

message Thread {
    string threadId = 1;
    string title = 2;
    string body = 3;
    repeated string assetUrls = 4;
    repeated string tags = 5;
    string authorId = 6;
    bool isAnonymous = 7;
    string createdAt = 8;
    string updatedAt = 9;
    bool isDeleted = 10;
}

message ThreadList {
    repeated Thread threads = 1;
}

message ThreadId {
    string threadId = 1;
}
